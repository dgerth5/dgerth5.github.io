---
title:  "2025 College Football Model Submission"
layout: post
math: true
---

**Introduction**  
While I’ve followed the College Football Data (CFBD) Model Pick’em Contest in passing, I hadn’t participated in it before. Now that IU is a football powerhouse and a general need for a new project, I decided to put together a model and join in this year. I’m not a college football expert and didn’t want to commit a ton of time, so the model doesn’t have a ton of fancy features, but I did get to use Stan and use some time series methods, which was fun. More work could be done, but I will be holding off until the end of the season, just so I can get a full season’s worth of results with this model.

**Model Overview**  
The goal of the competition is to predict how many points the home team will win by, but rather than regress on that, I find the expected points each team will score and compute home MOV from there.  

The expected points model is a straightforward linear regression with three predictors: expected number of plays, expected passing predicted points added (PPA) and expected rushing PPA. PPA is the CFBD equivalent of expected points added.

\[
\text{xPoints} = \text{xPlays} + \text{xPassPPA} + \text{xRushPPA}
\]

The expected plays, passing PPA and rushing PPA factors are estimated using AR(1) models. For each variable, a model is fit with binary indicators for home/neutral site, and random effects for the offense and defense team IDs. The random effects evolve over time through an AR(1) process.

As an example:

\[
\text{xPassPPA} \sim \beta_0 + \text{is\_home} + \text{is\_neutral} + \text{Off\_Team} + \text{Def\_Team}
\]

\[
\text{Off\_Team}_t \sim \beta_{0,\text{off}} + \phi_{\text{off}} \cdot \text{Off\_Team}_{t-1}
\]

\[
\text{Def\_Team}_t \sim \beta_{0,\text{def}} + \phi_{\text{def}} \cdot \text{Def\_Team}_{t-1}
\]

This is all estimated in Stan. Weakly informative priors are set for global parameters, but more informative priors are set for offense and defense skill.  

For each variable, I find “short run” and “long run” estimates using mixed effects models via the `lme4` package. The model structure is regressing the skill factor in question against a binary `is_home` term and random effects for offense and defense.  In the short-run case, this regression is done on one year of data and in the long-run case, four years of data are used.  

The idea is that blue bloods tend to stay blue bloods, mid-tier programs tend to stay mid-tier, etc., and that is reflected in the four-year regression, with the one-year regression providing a more up-to-date estimate of how the team has been performing lately. This may not hold up as well in the transfer portal era.

Once this is complete and expected points are calculated, along with the corresponding expected home margin of victory, a final regression is performed, where home MOV is regressed against my model’s expected home margin of victory, and the DraftKings opening line.  

\[
\text{H\_MOV} \sim \text{DG\_H\_MOV} + \text{Market\_H\_MOV}
\]

DraftKings isn’t considered to be a market-making book the way Pinnacle, Cris or Circa are, but they make lines for all the games, and the data was readily available, so I opted to use them. I use opening line rather than closing line because closing line isn’t available to me when I make predictions.

**Conclusion**  
Overall, while I’d be shocked if I finished near the top of the leaderboard at the end of the season, this was a fun project to work on, and I was able to learn a lot about time series modeling in Stan. Further improvements can be made to the priors and looking at returning production, or to the coefficient on the AR(1) terms for offense and defense to make it more sensitive based on how far along in the season we are, but right now, I’m happy where the model is.  

Out of sample home MOV has been in the 15.8–16 range, right around where the top third of the leaderboard is, so hopefully those results hold this year.  

add math
*Thanks to Max Resnick for floating the idea of joining this competition, and the short run/long run idea.*
